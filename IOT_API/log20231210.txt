2023-12-10 07:00:13.385 +07:00 [INF] User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-10 07:00:13.612 +07:00 [INF] Now listening on: http://localhost:5030
2023-12-10 07:00:13.613 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-10 07:00:13.613 +07:00 [INF] Hosting environment: Development
2023-12-10 07:00:13.613 +07:00 [INF] Content root path: D:\IOT\IOT_API
2023-12-10 07:00:40.065 +07:00 [INF] Application is shutting down...
2023-12-10 07:00:48.832 +07:00 [INF] User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-10 07:00:48.905 +07:00 [INF] Now listening on: http://localhost:5030
2023-12-10 07:00:48.907 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-10 07:00:48.907 +07:00 [INF] Hosting environment: Development
2023-12-10 07:00:48.907 +07:00 [INF] Content root path: D:\IOT\IOT_API
2023-12-10 07:00:53.197 +07:00 [INF] Application is shutting down...
2023-12-10 07:01:01.035 +07:00 [INF] User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-10 07:01:01.145 +07:00 [INF] Now listening on: http://localhost:5030
2023-12-10 07:01:01.148 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-10 07:01:01.149 +07:00 [INF] Hosting environment: Development
2023-12-10 07:01:01.149 +07:00 [INF] Content root path: D:\IOT\IOT_API
2023-12-10 07:01:13.750 +07:00 [INF] Application is shutting down...
2023-12-10 07:01:25.531 +07:00 [INF] User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-10 07:01:25.601 +07:00 [INF] Now listening on: http://localhost:5030
2023-12-10 07:01:25.603 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-10 07:01:25.603 +07:00 [INF] Hosting environment: Development
2023-12-10 07:01:25.603 +07:00 [INF] Content root path: D:\IOT\IOT_API
2023-12-10 07:15:47.328 +07:00 [INF] Application is shutting down...
2023-12-10 07:38:25.908 +07:00 [INF] User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-10 07:38:25.978 +07:00 [INF] Now listening on: http://localhost:5030
2023-12-10 07:38:25.979 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-10 07:38:25.979 +07:00 [INF] Hosting environment: Development
2023-12-10 07:38:25.979 +07:00 [INF] Content root path: D:\IOT\IOT_API
2023-12-10 07:38:50.220 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5030/api/users/login/persistent - -
2023-12-10 07:38:50.272 +07:00 [INF] CORS policy execution successful.
2023-12-10 07:38:50.281 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5030/api/users/login/persistent - - - 204 - - 62.0374ms
2023-12-10 07:38:50.286 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5030/api/users/login/persistent - -
2023-12-10 07:38:50.298 +07:00 [INF] CORS policy execution successful.
2023-12-10 07:38:50.300 +07:00 [WRN] Failed to determine the https port for redirect.
2023-12-10 07:38:50.377 +07:00 [INF] Executing endpoint 'IOT_API.Controllers.UserController.LoginPersistent (IOT_API)'
2023-12-10 07:38:50.387 +07:00 [INF] Route matched with {action = "LoginPersistent", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginPersistent() on controller IOT_API.Controllers.UserController (IOT_API).
2023-12-10 07:38:51.701 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`4[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[IOT_API.Models.UserReturn, IOT_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-10 07:38:51.731 +07:00 [INF] Executed action IOT_API.Controllers.UserController.LoginPersistent (IOT_API) in 1340.5765ms
2023-12-10 07:38:51.732 +07:00 [INF] Executed endpoint 'IOT_API.Controllers.UserController.LoginPersistent (IOT_API)'
2023-12-10 07:38:51.736 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5030/api/users/login/persistent - -
2023-12-10 07:38:51.738 +07:00 [INF] CORS policy execution successful.
2023-12-10 07:38:51.739 +07:00 [INF] Executing endpoint 'IOT_API.Controllers.UserController.LoginPersistent (IOT_API)'
2023-12-10 07:38:51.740 +07:00 [INF] Route matched with {action = "LoginPersistent", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginPersistent() on controller IOT_API.Controllers.UserController (IOT_API).
2023-12-10 07:38:51.743 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5030/api/users/login/persistent - - - 200 - application/json;+charset=utf-8 1457.8173ms
2023-12-10 07:38:51.780 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`4[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[IOT_API.Models.UserReturn, IOT_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-10 07:38:51.781 +07:00 [INF] Executed action IOT_API.Controllers.UserController.LoginPersistent (IOT_API) in 41.1292ms
2023-12-10 07:38:51.781 +07:00 [INF] Executed endpoint 'IOT_API.Controllers.UserController.LoginPersistent (IOT_API)'
2023-12-10 07:38:51.782 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5030/api/users/login/persistent - - - 200 - application/json;+charset=utf-8 45.5310ms
2023-12-10 07:38:51.854 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5030/api/project/alarm?project_id=1 - -
2023-12-10 07:38:51.855 +07:00 [INF] CORS policy execution successful.
2023-12-10 07:38:51.855 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5030/api/project/alarm?project_id=1 - - - 204 - - 0.6921ms
2023-12-10 07:38:51.856 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5030/api/project/device-data?project_id=1 - -
2023-12-10 07:38:51.858 +07:00 [INF] CORS policy execution successful.
2023-12-10 07:38:51.858 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5030/api/project/device-data?project_id=1 - - - 204 - - 1.7071ms
2023-12-10 07:38:51.864 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5030/api/project/alarm?project_id=1 - -
2023-12-10 07:38:51.864 +07:00 [INF] CORS policy execution successful.
2023-12-10 07:38:51.867 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5030/api/project/device-data?project_id=1 - -
2023-12-10 07:38:51.868 +07:00 [INF] CORS policy execution successful.
2023-12-10 07:38:51.872 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-10 07:38:51.872 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-10 07:38:51.886 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-12-10 07:38:51.886 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2023-12-10 07:38:51.886 +07:00 [INF] Executing endpoint 'IOT_API.Controllers.ProjectController.GetAllDeviceData (IOT_API)'
2023-12-10 07:38:51.886 +07:00 [INF] Executing endpoint 'IOT_API.Controllers.ProjectController.GetAllAlarm (IOT_API)'
2023-12-10 07:38:51.897 +07:00 [INF] Route matched with {action = "GetAllAlarm", controller = "Project"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAlarm(System.String) on controller IOT_API.Controllers.ProjectController (IOT_API).
2023-12-10 07:38:51.897 +07:00 [INF] Route matched with {action = "GetAllDeviceData", controller = "Project"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDeviceData(System.String) on controller IOT_API.Controllers.ProjectController (IOT_API).
2023-12-10 07:38:52.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[IOT_API.Models.Alarm, IOT_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-10 07:38:52.403 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[IOT_API.Models.DeviceData, IOT_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-10 07:38:52.413 +07:00 [INF] Executed action IOT_API.Controllers.ProjectController.GetAllAlarm (IOT_API) in 515.1306ms
2023-12-10 07:38:52.413 +07:00 [INF] Executed endpoint 'IOT_API.Controllers.ProjectController.GetAllAlarm (IOT_API)'
2023-12-10 07:38:52.413 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5030/api/project/alarm?project_id=1 - - - 200 - application/json;+charset=utf-8 549.3760ms
2023-12-10 07:38:52.419 +07:00 [INF] Executed action IOT_API.Controllers.ProjectController.GetAllDeviceData (IOT_API) in 521.1326ms
2023-12-10 07:38:52.419 +07:00 [INF] Executed endpoint 'IOT_API.Controllers.ProjectController.GetAllDeviceData (IOT_API)'
2023-12-10 07:38:52.419 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5030/api/project/device-data?project_id=1 - - - 200 - application/json;+charset=utf-8 551.5501ms
2023-12-10 07:40:00.805 +07:00 [INF] Application is shutting down...
